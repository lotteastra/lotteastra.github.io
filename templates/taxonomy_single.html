{% extends "index.html" %}

{% import "macros.html" as macros %}

{% macro format_date_no_year(date) -%}
    {% set date_format = "%d %b" -%}
    {{ date | date(format=date_format) -}}
{% endmacro format_date_no_year %}

{% block htmltitle %}
  {% if section.title %}
    {{ section.title }}
  {% endif %}
{% endblock htmltitle %}

{% block content %}
<h1 class="archive">
    <a href="{{ term.permalink }}"> {{ term.name | capitalize }} </a>
</h1>
<ul class="archive">
    {% for year, pages in term.pages | sort(attribute="date") | reverse | group_by(attribute="year") %}
    <h2 class="archive year">{{ year }}</h2>
    {% for page in pages %}
    <li>
    <time datetime="{{ page.date }}">
        {{ self::format_date_no_year(date=page.date) }}
    </time>
    <a href="{{ page.permalink }}">{{ page.title }}</a>
    </li>
    {% endfor %} {% endfor %}
</ul>
{% endblock content %}
